<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j">

<head>
    <title>Start Page</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

</head>

<h:body>


    <h:form id="mainform">
        <rich:dataTable id="promoTable" value="#{promotionsBean.promotions}" var="promo">
            <rich:column name="ID">
                <f:facet name="header">ID</f:facet>
                <h:outputText value="#{promo.id}"/>
            </rich:column>
            <rich:column name="Name">
                <f:facet name="header">Name</f:facet>
                <h:outputText value="#{promo.name}"/>
            </rich:column>
            <rich:column name="Description">
                <f:facet name="header">Description</f:facet>
                <h:outputText value="#{promo.description}"/>
            </rich:column>
        </rich:dataTable>

        <br/><br/>
        <rich:dataTable id="topGoodsTable" value="#{topGoodsBean.topGoods}" var="goods">
            <rich:column name="ID">
                <f:facet name="header">Price</f:facet>
                <h:outputText value="$#{goods.price}"/>
            </rich:column>
            <rich:column name="Name">
                <f:facet name="header">Name</f:facet>
                <h:outputText value="#{goods.name}"/>
            </rich:column>
            <rich:column name="Description">
                <f:facet name="header">Description</f:facet>
                <h:outputText value="#{goods.description}"/>
            </rich:column>
        </rich:dataTable>

        <f:websocket channel="promo">
            <f:ajax event="promoupd" render="promoTable" onevent="alert('test')"/>

        </f:websocket>
    </h:form>


</h:body>

</html>
